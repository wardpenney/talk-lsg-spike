<!DOCTYPE html>
<html>
  <head>
    <link href="css/reset.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="shortcut icon" href="css/favicon.png" />
    <link rel="apple-touch-icon" href="css/apple-touch-icon.png" />
    <!-- Code Prettifier: -->
<link href="css/highlight.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link href="css/style.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,800italic,300,400,800' rel='stylesheet' type='text/css'>

<div class="footer">
  <img class="pivotal-logo" src="images/pivotal_logo.png"/img>
  <div class="guest-logo"></div>
    <!--
      add a conference, client, or other topical logo or image
      to deck/images/guest_logo.png to have it appear on your slides.

      Note: guest_logo.png should be approx 45px H X 135px W; otherwise
      adjust ".footer .guest-logo" in themes/pivotal.css
    -->
  </img>
  <div class="title">
    <span>
      <!-- This will appear in the center of the footer area
	    Another example: Applying the Pivotal Way • @pivotallabs
	  -->
      Pivotal Labs Confidential • @pivotallabs
    </span>
  </div>
</div>


  </head>

  <body>
  <div class="fallback-message">
  <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
  <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
  </div>
    <div id="impress">
    <div class='step' >
    
<h1>Spike Lean Visual Design Directly into Your Live Style Guide</h1>

<ul>
<li>June 11, 2014</li>
<li>QCon New York</li>
<li>@wardpenney</li>
</ul>
</div>
      <div class='step' >
    
<h1>Hello</h1>

<ul>
<li>I&#39;m Ward Penney</li>
<li>Product Designer at Pivotal Labs, focusing on front-end development and user centered design</li>
<li>I love SASS</li>
</ul>
</div>
      <div class='step' >
    
<h1>Background</h1>

<p>In the last year, I&#39;ve been on several projects focused on the front-end, and I have developed a fondness for Live Style Guides that isn&#39;t what it used to be. In fact, I&#39;ve used them in two primary ways, and one (hopefully) upcoming way. </p>
</div>
      <div class='step' >
    
<h1>Who has worked with a Live Style Guide?</h1>

<ul>
<li>Product, design, engineering, executive, etc</li>
<li>Many companies use them in one way or another</li>
</ul>
</div>
      <div class='step' >
    
<h3>Development Style Guides</h3>

<ul>
<li><a href="https://github.com/NYTimes/objective-c-style-guide">NY Times: Objective-C for iOS</a></li>
<li><a href="http://contribute.jquery.org/style-guide/js/">J-Query: contributing</a></li>
<li><a href="http://arduino.cc/en/Reference/StyleGuide">Arduino: tutorial and example writing</a></li>
<li><a href="https://code.google.com/p/google-styleguide/">Google: all the things</a></li>
</ul>
</div>
      <div class='step' >
    
<h3>Writing Style Guides</h3>

<ul>
<li><a href="http://mailchimp.com/about/style-guide/">Mailchimp: branded tone micro-copy</a></li>
<li><a href="http://alistapart.com/about/style-guide">A List Apart: all things blogging</a></li>
<li><a href="http://www.buzzfeed.com/emmyf/buzzfeed-style-guide">Buzzfeed: words, formatting, patterns</a></li>
<li><a href="http://www.theguardian.com/guardian-observer-style-guide-a">The Guardian</a></li>
</ul>
</div>
      <div class='step' >
    
<h3>Visual Style Guides</h3>

<ul>
<li><a href="https://www.mozilla.org/en-US/styleguide/identity/mozilla/branding/">Mozilla</a></li>
<li><a href="https://www.mozilla.org/en-US/styleguide/products/firefox-os/">Firefox OS</a></li>
</ul>
</div>
      <div class='step' >
    
<h3>Frontend (Live) Style Guides</h3>

<ul>
<li><a href="http://www.yelp.com/styleguide">Yelp</a></li>
<li><a href="https://github.com/styleguide">Github</a></li>
<li><a href="http://www.starbucks.com/static/reference/styleguide/">Starbucks</a></li>
</ul>
</div>
      <div class='step' >
    
<h3>There are many kinds!</h3>
</div>
      <div class='step' >
    
<h4>Example: LSG custom example</h4>
</div>
      <div class='step' >
    
<h2>What do they have in common?</h2>

<ul>
<li>Set the guardrails for a scalable team</li>
<li>Toolbox of &quot;quick&quot; solutions to already-solved problems</li>
<li>Representation of patterns</li>
</ul>
</div>
      <div class='step' >
    
<h2>The classic goals of a Live Style Guide</h2>

<ul>
<li>A webpage that describes the typography, colors, patterns and widgets for a website</li>
<li>The system-of-record for front-end names of patterns and styles</li>
<li>Code examples for engineers to implement swiftly</li>
</ul>
</div>
      <div class='step' >
    
<h2>3 new goals of a frontend Style Guide</h2>

<ol>
<li>It is the best place for the design spike</li>
<li>It can drive a site-wide refactor</li>
<li>It could (potentially) aid with regression testing</li>
</ol>
</div>
      <div class='step' >
    
<h1>The design spike</h1>

<p>“I would often ask Kent [Beck], ‘What is the simplest thing we can program that will convince us we are on the right track?’ Such stepping outside the difficulties at hand often led us to simpler and more compelling solutions. Kent dubbed this a Spike.” <em>Ward Cunningham</em></p>
</div>
      <div class='step' >
    
<h3>A few key phrases</h3>

<ul>
<li>&quot;the simplest thing&quot;</li>
<li>&quot;stepping outside&quot;</li>
<li>&quot;compelling solutions&quot;</li>
</ul>
</div>
      <div class='step' >
    
<h3>Example spikes</h3>

<ul>
<li>What if we put in a responsive grid?</li>
<li>What can we do to clean up those modals?</li>
<li>Can we make that slider easier on touch for mobile users?</li>
<li>Yep. I&#39;m gonna take two hours and try a fancy sparkle-effect on the avatars. That&#39;s right.</li>
</ul>
</div>
      <div class='step' >
    
<h4>Get answers now!</h4>

<p>You are sculpting in the medium! Designers and developers instantly see the design in-browser (and where it breaks down).</p>

<ul>
<li>Try in responsive (best win)</li>
<li>Quickly explore edge cases</li>
<li>Discover new awesomeness</li>
<li>Try it on your phone</li>
<li>Handle touch events</li>
</ul>
</div>
      <div class='step' >
    
<h4>Repsonsive! Responsive! Responsive!</h4>

<p>Special callout. It is soooo much easier to do this in browser. You begin to naturally understand and spot basic expansion behavors. Spend your time working on the really nifty stuff (like that super-awesome primary nav).</p>
</div>
      <div class='step' >
    
<h2>Required to Spike</h2>

<ol>
<li>Low cost of execution</li>
<li>A few team members willing to help out</li>
</ol>
</div>
      <div class='step' >
    
<h3>Low cost of execution</h3>

<p>Keep it seriously simple!</p>

<ul>
<li>HTML</li>
<li>CSS</li>
<li>Javascript (optional)</li>
</ul>
</div>
      <div class='step' >
    
<h4>A note on shared partials</h4>

<p>I&#39;ve seen some teams attempt to use &quot;shared partials&quot; for the components in their LSG. However, this canniballizes the low cost of execution by:</p>

<ul>
<li>increasing the difficulty of a Spike</li>
<li>requiring more knowledge of the whole stack</li>
<li>coupling the LSG to the site, making it inflexible</li>
</ul>
</div>
      <div class='step' >
    
<h3>A few team members willing to help out</h3>

<p>The best part, is that any team member can design spike in the LSG, when paired. As long as one of them is capable enough. Also great for knowledge transfer. </p>

<ul>
<li>Developer + Designer</li>
<li>Designer + (code-savvy) Designer</li>
<li>Developer + Product</li>
<li>Prodcut + (code-savvy) Designer</li>
</ul>

<p>This is one of they keys to lowering your &quot;acceptance handoff.&quot;</p>
</div>
      <div class='step' >
    
<h1>Drive out a site-wide refactor</h1>

<p>I&#39;ve been a part of a few large-scale SASS refactors in the last year, and one theme that keeps coming up is the pain felt by being chained to existing code. </p>

<p>On one project, we attempted to refactor an existing SASS codebase that was 5+ years old. The experience:
* A massive amount of tiny regressions we had to chase down. 
* Reading and pulling apart the spaghetti SASS took FOREVER
* A Rube Goldberg file structure ensued, with old and new intermingled and interconnected</p>
</div>
      <div class='step' >
    
<h2>One method</h2>

<p>After speaking with Nicole Sullivan (@nicolesullivan), I came to understand that trying to untangle the mess was taking waaaaayyyy longer than to just re-create the SASS from scratch. We basically Spiked the refactored pieces directly into the Live Style Guide itself.</p>
</div>
      <div class='step' >
    
<h3>The clean spot</h3>

<p>In order to Spike the new frontend, we needed a place to work. </p>

<ol>
<li>Create a new base CSS file that loads the other new ones</li>
<li>Don&#39;t include ANY of the old stuff (except maybe variables files with colors)</li>
<li>Load this instead of the old one your Live Style Gude (or possibly a second page of it)</li>
<li>Build all the new things</li>
</ol>
</div>
      <div class='step' >
    
<h4>A quick SASS primer</h4>

<p>To understand what makes it clean, you need to understand how your CSS makes it to the page. </p>

<ul>
<li>SASS (CSS) styling must work in harmony</li>
<li>You may have many small SASS files, but generally they aggregate into one big one</li>
<li>That big CSS file is then served to the user with the page</li>
</ul>
</div>
      <div class='step' >
    
<h4>Example: File structure for current app</h4>
</div>
      <div class='step' >
    
<h3>The map is not the terrain, and the pattern is not the page</h3>

<p>Live Style Guides often only address repeatable patterns (buttons, widgets, tables, links, typography, etc.) Often, they never contain a representative page in full (fake) composition. Well...</p>
</div>
      <div class='step' >
    
<h4>Style Tile to the rescue!</h4>

<p>A concept pioneered by Samantha Warren (@samanthatoy), the Style Tile is a fantastic way to drive out a site refactor. This is especially useful if you are switching frameworks or grid systems, or introducing responsive for the first time.</p>
</div>
      <div class='step' >
    
<h5>Example: Style Tile</h5>
</div>
      <div class='step' >
    
<h5>To create a Style Tile</h5>

<p>All you need is another route in addition to the Live Style Guide. Developers will gladly help you add another route, as it is likely dependant on proficiency within the web stack architecture. Import your new base CSS file, and begin to create!</p>
</div>
      <div class='step' >
    
<h5>Sidenote</h5>

<p>On new projects now, I always end up creating a Style Tile route, in addition to a Live Style Guide route. We (all of us) as designers need to see a design in composition to really understand how well it&#39;s going to work. Again, it is extremely useful for responsive exploration.</p>
</div>
      <div class='step' >
    
<h2>Large SASS refactor cheat-sheet</h2>

<p>The TLDR; checklist!</p>

<ol>
<li>Set up your clean spot load path</li>
<li>Set up your new Live Style Guide route</li>
<li>Set up your new Style Tile route</li>
<li>Pick a candidate page (I like the most-trafficked one)</li>
<li>Spike the page directly into the new Style Tile</li>
<li>Extract the patterns into the Style Guide as you go!</li>
<li>Write stories to implement into site, switching their load paths one-by-one to the new CSS</li>
</ol>
</div>
      <div class='step' >
    
<h3>Built your front-end from the ground-up</h3>

<ul>
<li>It takes too much time to untangle unsustainable CSS practices</li>
<li>Refactor your design and throw away patterns you don&#39;t need anymore</li>
<li>Instill good practices from the start</li>
</ul>
</div>
      <div class='step' >
    
<h2>Common complications</h2>

<p>When you switch the CSS load path to the new clean spot, there are two common big pain points:
1. Shared partials
2. Libraries that generate markup (ex., Simple Form)</p>
</div>
      <div class='step' >
    
<h3>Shared partials</h3>

<p>Some LSG&#39;s grow to use markup partials from the larger codebase. This cancanabalize the speed in which you can work in the LSG. If the aim is to enforce conformity, I will have something goodies on that at the end of this talk...</p>

<p>In order to DRY (Don&#39;t Repeat Yourself) out web codebases, it is a best practice to factor repeated instances of the same widget into the same partial that defines the widget. The downside to this, is that it couples all of the webpages together.</p>

<p>I have tried or seen these attempted solutions:
* Conforming your new CSS to old markup
* Adding new markup classes to the partials, while leaving the old (perhaps leaving the overall structure in place)
* Render &quot;new&quot; companion versions of the partials if in the new load path</p>

<p>My favorite is the third, but we won&#39;t cover why here. </p>
</div>
      <div class='step' >
    
<h3>Libraries</h3>

<p>SimpleForm (Rails) always bites me on this, but you may encounter it with any library that spits out markup. It&#39;s just a pain. Extra classes, in addition to the old ones, is the best way to go. You will have to conform to the structure it implies anyway. </p>
</div>
      <div class='step' >
    
<h1>It could (potentially) aid with visual tests</h1>

<p>Catching visual regressions is sort of a difficult thing to nail down. The world of visual regression testing  is still in the bronze-age. The holy grail we all seek is to break the build when there is a visual regression. However, defining a visual regression is a difficult task.</p>
</div>
      <div class='step' >
    
<h2>Lots of approaches:</h2>

<p>There are several approaches out there today:
* Image-difference
* Direct assertion
* Linting</p>
</div>
      <div class='step' >
    
<h3>Image-difference</h3>

<p>These tools compare a &quot;before&quot; and &quot;after&quot; screenshot of select pages, and alert you if the difference is big enough to warrent suspicion. In theory, they are great. However, I&#39;ve seen a few implementations, and they are generate so many false-positives that it becomes unusable. I think some are having success with them. Some of them are:
* Wraith
* Huxley
* GreenOnion
* Needle
* CSSCritic</p>

<p>A similar technique is frozen DOM comparisons (cssert)</p>
</div>
      <div class='step' >
    
<h3>Direct Assertion</h3>

<p>Another approach is to assert directly against parts of the page. The downside to this is that you end up writing one (or more) tests for every line of CSS you write. That is fine, but CSS has lots of rules and if you change things around, odds are there will be lots of changed in the rendered DOM. Some of these tools are:
* Cactus
* Hardy</p>
</div>
      <div class='step' >
    
<h3>Linting</h3>

<p>CSSLint, started by Nicholas C. Zakas and Nicole Sullivan, is one of the most well-known CSS tools. It does parses your rendered CSS for bad practices and can greatly help you avoid common no-no&#39;s. It can also catch serious bugs that you may not know about (like IE9&#39;s 4095 selector limit). But it&#39;s not really designed to tell you when you have a visual regression on a page.</p>
</div>
      <div class='step' >
    
<h3>A new approach</h3>

<p>At Pivotal Labs NYC, we have been working on a new approach to testing yor front-end. It looks at the patterns in your Live Style Guide and asserts their structure and style against the other parts of your site. </p>

<p>If there is a regression from the &quot;whitelist&quot; of patterns, it will break the build. </p>
</div>
      <div class='step' >
    
<h4>If you&#39;re interested</h4>

<p>We are looking for any project interested in trying this out and giving us feedback. The project is in it&#39;s infancy, and we are trying it out on it&#39;s second codebase now. </p>

<p>The repo is at <a href="https://github.com/pivotal/style_cop">https://github.com/pivotal/style_cop</a></p>

<p>Please clone it and try it! (Or mention it to someone who wants to try!)</p>
</div>
      <div class='step' >
    
<h1>So, let&#39;s re-define the Live Style Guide</h1>

<blockquote>
<p>The Live Style Guide isn&#39;t a china  your sandbox</p>
</blockquote>

<ul>
<li>Your place to explore safely</li>
<li>Your place to transfer front-end knowledge quickly</li>
<li>Your place to spike</li>
<li>Your place to fly!</li>
</ul>
</div>
      <div class='step' >
    
<h2>Free your style guide</h2>

<p>The one requirement to pull this off is the clean spot.</p>

      </div>
    <script src="js/impress.js"></script>
    <script>impress().init();</script>
  </body>
</html>
    